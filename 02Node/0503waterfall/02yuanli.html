<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		*{padding: 0;margin: 0;}
		body{background-color: #ccc;}
		.waterfall{width: 790px;margin: 0 auto;position: relative;background-color: #ccc;}
		.waterfall div{width: 230px;position: absolute;padding: 10px;border-radius: 14px;background-color: #fff;}
		.waterfall img{width: 230px;}
	</style>
</head>
<body>
	<div class="waterfall">
		<div class="grid">
			<img src="images/0.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		<div class="grid">
			<img src="images/1.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		<div class="grid">
			<img src="images/2.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		<div class="grid">
			<img src="images/3.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		 <div class="grid">
			<img src="images/4.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		<div class="grid">
			<img src="images/5.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		<div class="grid">
			<img src="images/6.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		<div class="grid">
			<img src="images/7.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		<div class="grid">
			<img src="images/8.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		<div class="grid">
			<img src="images/9.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		<div class="grid">
			<img src="images/10.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		<div class="grid">
			<img src="images/11.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		<div class="grid">
			<img src="images/12.png">
			<p>拉开的解放路数据啊砥砺奋进列宽经典示例开发阶段谁离开房间大幅度发撒发送到</p>
		</div>
		 
	</div>
	<script type="text/javascript" src="js/jquery-1.12.3.min.js"></script>
	<!-- 引入模板引擎 -->
	<script type="text/javascript" src="js/underscore.js"></script>
	<script type="text/javascript">
		// 先插入矮的网格
		window.onload = function(){
			// 获取所有的网格
			var $grids = $(".grid");
			// 每个格子不一定往自己的序号%3这列插入，看哪列最矮，放置在哪里
			// 定义数组存储当前三列的总高度
			var colHeight = [0,0,0];
			// 循环遍历每个小格子
			$grids.each(function(){
				// 找到最短列是谁
				var minValue = _.min(colHeight);
				// 找到最短列所在列数index
				var minIndex = _.indexOf(colHeight,minValue);

				$(this).css({
					"top":minValue,
					"left":minIndex*270
				});

				colHeight[minIndex] += $(this).outerHeight() + 20;

			});
			
		}
	</script>
</body>
</html>