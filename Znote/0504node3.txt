Node.js搭建服务器

http模块

Nodejs提供了很多的模块，手册按模块列出的api

* 搭建最简单的demo
   // 利用nodejs内置的http模块创建服务器
// 得到http模块
var http = require("http");
// 创建服务器 用createServer()
// 回调函数中req代表请求 res代表响应
var server = http.createServer(function(req,res) {
	 // 输出内容 计算过程在服务器上
	 res.write("aaaa");
	 res.write("bbbb");
	 res.write("cccc");
	 res.end("<h1>NodeJs 我来了</h1>");
	 
});

// 监听端口  
server.listen(4000);

* 使用外置页面

    我们现在制作一个外面的网页public/mingxing.html

    fs模块最重要的api就是readFile

    var http = require("http");
// 使用fs模块 
var fs = require("fs");


var server = http.createServer(function(req,res) {
     //res.end("OK");
     // 需要读取的文件 第一个参数表示URL 必须以./开头 表示从当前js文件出发寻找html文件
     fs.readFile("./public/mingxing.html",function(err,data) {
     	  res.end(data);
     });

});

server.listen(4000);

* 路由(重点)
   01.js这个案例 无论输入什么url 都访问mingxing.html

   提一个需求  /mingxing.html  让它显示网页


   顶层路由设计
      * 物理文件层次和URL没有关系

