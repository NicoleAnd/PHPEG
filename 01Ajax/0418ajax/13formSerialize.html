<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<form action="" id="biaodan">
		<p>
			用户名：
			<input type="text" name="username" />
		</p>
		<p>
			密码：
			<input type="text" name="psw" />
		</p>
		<p>
			性别：
			<input type="radio" name="sex" value="男" />男
			<input type="radio" name="sex" value="女" />女
			<input type="radio" name="sex" value="保密" />保密
		</p>
		<p>
			国籍：
			<input type="radio" name="nationality" value="中国" />中国
			<input type="radio" name="nationality" value="外国" />外国
		</p>
		<p>
			爱好:
			<input type="checkbox" name="hobby" value="运动"/>运动
			<input type="checkbox" name="hobby" value="学习"/>学习
			<input type="checkbox" name="hobby" value="旅游"/>旅游
			<input type="checkbox" name="hobby" value="吃鸡"/>吃鸡
		</p>
		<p>
			学历：
			<select name="xueli" id="">
				<option value="硕士">硕士</option>
				<option value="本科">本科</option>
				<option value="大专">大专</option>
			</select>
		</p>
		<p>
			提出宝贵建议
			<textarea name="msg" id="" cols="30" rows="10"></textarea>
		</p>
		<p>
			<input type="button" value="点我提交" id="btn" />
		</p>
	</form>

	<script type="text/javascript" src="js/myajax.js"></script>
	<script type="text/javascript">
		// name=along&age=20&sex=男&hobby=羽毛球&hobby=篮球
		// 单击按钮 提交表单数据
		var btn = document.getElementById("btn");
		var biaodan = document.getElementById("biaodan");
		//alert(document.getElementsByTagName("select")[0].type);

		btn.onclick = function(){
			// ?k=v&k=v&k=v
			// 1 得到表单所有控件
			var eles = biaodan.elements;
			// 2 存放结果的数组
			var res = [];
			// 3 循环遍历所有控件
			for(var i=0;i<eles.length;i++){
				// 记录当前的表单控件
				var e = eles[i];
				// 分类讨论
				switch(e.type){
					case "button":
					case "submit":
					case "reset":
					break;
					case "text":
					case "password":
					case "textarea":
						res.push(e.name+"="+e.value);
					break;
					case "radio":
					case "checkbox":
						e.checked&&res.push(e.name+"="+e.value);
					break;
					// select类型 select-one
					case "select-one":
						var ops = e.getElementsByTagName("option");
						for(var j=0;j<ops.length;j++){
							if (ops[j].selected) {
								res.push(e.name+"="+ops[j].value);
							}
						}
					break;
				}
			}
			console.log(res.join("&")); 
			
		}
	</script>
</body>
</html>